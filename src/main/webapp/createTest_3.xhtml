<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core" >

    <h:head>
        <title>Création de test</title>
        <h:outputStylesheet name="style.css" library="css" /> 
    </h:head>

    <h:body>
        <script src="#{facesContext.externalContext.requestContextPath}/src-noconflict/ace.js" type="text/javascript"></script>

        <script>
            function submitData() {
                document.getElementById('form:hidden').value = editor.getSession().getValue();
            }
        </script>


        <div id="container">
            <ui:insert name="header" >
                <ui:include src="/templates/header.xhtml" />
            </ui:insert>



            <div id="content">
                <p:panel header="Création de test - page n°3"  style="height:auto;"> 

                    <h:form id="form" style="border:1px solid transparent;padding:0px;"> 
                        <!-- panel principal -->
                        <!--<p:panelGrid columns="2" style="margin-bottom:10px;width:880px;margin-left:-20px;">-->  


                        <p:panel style="width:auto;padding:20px;">  
                            <h:outputText value="Saisissez l'énoncé de la question : " /> 

                            <br/>
                            <p:editor id="editor" value="#{create3.enonce}" style="width:580px;"/>  
                            <br/>

                            <h:outputText value="Selectionner une rubrique: " /> 
                            <h:selectOneMenu value="#{create3.nomRubrique}">
                                <f:selectItems value="#{create3.listRubrique}" var="rub" itemValue="#{rub.rubriqueid}" itemLabel="#{rub.rubriquenom}"/>
                            </h:selectOneMenu>  

                            <br/><br/><br/>

                            <h:outputText value="Saisissez une proposition: " /> 
                            <p:panelGrid columns="1" >
                                <p:inputTextarea value="#{create3.theProposition}" rows="3" cols="77" />  
                                <p:panelGrid columns="2" > 
                                    <h:outputText value="La proposition est-elle : vraie ? " />  
                                    <p:selectOneRadio id="check" value="#{create3.propositionEtat}">
                                        <f:selectItem itemValue="1" itemLabel="Vraie" />
                                        <f:selectItem itemValue="2" itemLabel="Fausse" />
                                    </p:selectOneRadio>
                                </p:panelGrid>
                            </p:panelGrid>
                            <br/><br/>
                            <p:commandButton  value="Ajouter la proposition" action="#{create3.ajouterProposition}" />  
                            <br/>
                            <hr/>
                            <br/>
                            <h:dataTable value="#{create3.listProposition}" var="list" styleClass="order-table"
                                         headerClass="order-table-header"
                                         rowClasses="order-table-odd-row,order-table-even-row" 
                                         style="width:850px;margin-left:auto;margin-right:auto;"  >

                                <h:column>
                                    <f:facet name="header">Proposition(s)</f:facet>
                                    <h:outputText value="#{create3.listProposition.rowIndex + 1}"/> 
                                    <h:outputText value="#{list.propositionlibelle}"/> 
                                    <h:outputText value="La réponse est-elle vraie : #{list.propositionvrai}"/> 
                                </h:column>
                                <h:column>
                                    <h:outputText value="#{list.rubriqueid}"/> 
                                </h:column>
                            </h:dataTable>
                            <br/>

                            <br/>


                            <c:if test="#{create3.type eq 1}"> <!--type code-->
                                <br/>
                                <h:outputText value="Saisissez une partie du code : " /> 
                                <br/>
                                <div id="editor_enonce" style="width:580px;height:250px;" name="editor_enonce" value="#{create3.code_enonce}">  </div>
                                <h:inputHidden id="hidden" value="#{create3.code_enonce}" />
                                <br/>
                                <!--    solarized_dark // cobalt -->
                                <script type="text/javascript">
                                    // <![CDATA[
                                    var editor = ace.edit("editor_enonce");
                                    editor.setTheme("ace/theme/cobalt");
                                    editor.getSession().setMode("ace/mode/php");
                                    document.getElementById('editor_enonce').style.fontSize = '15px';
                                    // ]]>
                                </script>
                            </c:if> 

                        </p:panel> 


                        <!--</p:panelGrid>-->     
                        <!-- panel principal -->
                    </h:form>

                </p:panel>
            </div>

            <ui:insert name="footer" >
                <ui:include src="/templates/footer.xhtml" />
            </ui:insert>
        </div> <!-- container -->
    </h:body>
</html>     